console.log("Sanitizer loading");var HtmlSanitizer=new function(){var e={A:!0,ABBR:!0,B:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CENTER:!0,CODE:!0,DIV:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IMG:!0,LABEL:!0,LI:!0,OL:!0,P:!0,PRE:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRONG:!0,TABLE:!0,TBODY:!0,TR:!0,TD:!0,TH:!0,THEAD:!0,UL:!0,U:!0,VIDEO:!0},t={FORM:!0},n={align:!0,color:!0,controls:!0,height:!0,href:!0,src:!0,style:!0,target:!0,title:!0,type:!0,width:!0},r={color:!0,"background-color":!0,"font-size":!0,"text-align":!0,"text-decoration":!0,"font-weight":!0},o=["http:","https:","data:","m-files:","file:","ftp:"],a={href:!0,action:!0};function i(e,t){for(var n=0;n<t.length;n++)if(0==e.indexOf(t[n]))return!0;return!1}this.SanitizeHtml=function(l){if(""==(l=l.trim()))return"";if("<br>"==l)return"";var d=document.createElement("iframe");if(void 0===d.sandbox)return alert("Your browser does not support sandboxed iframes. Please upgrade to a modern browser."),"";d.sandbox="allow-same-origin",d.style.display="none",document.body.appendChild(d);var m=d.contentDocument||d.contentWindow.document;null==m.body&&m.write("<body></body>"),m.body.innerHTML=l;var c=function l(d){if(d.nodeType==Node.TEXT_NODE)var c=d.cloneNode(!0);else if(d.nodeType==Node.ELEMENT_NODE&&(e[d.tagName]||t[d.tagName])){if(("SPAN"==d.tagName||"B"==d.tagName||"I"==d.tagName||"U"==d.tagName)&&""==d.innerHTML.trim())return document.createDocumentFragment();c=t[d.tagName]?m.createElement("DIV"):m.createElement(d.tagName);for(var u=0;u<d.attributes.length;u++){var f=d.attributes[u];if(n[f.name])if("style"==f.name)for(s=0;s<d.style.length;s++){var g=d.style[s];r[g]&&c.style.setProperty(g,d.style.getPropertyValue(g))}else{if(a[f.name]&&f.value.indexOf(":")>-1&&!i(f.value,o))continue;c.setAttribute(f.name,f.value)}}for(u=0;u<d.childNodes.length;u++){var h=l(d.childNodes[u]);c.appendChild(h,!1)}}else c=document.createDocumentFragment();return c}(m.body);return document.body.removeChild(d),c.innerHTML.replace(/<br[^>]*>(\S)/g,"<br>\n$1").replace(/div><div/g,"div>\n<div")},this.AllowedTags=e,this.AllowedAttributes=n,this.AllowedCssStyles=r,this.AllowedSchemas=o};export default HtmlSanitizer;